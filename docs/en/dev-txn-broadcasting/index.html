<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Broadcasting · Zilliqa Developer Portal</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="After signing the transaction, we may broadcast the transaction to a seed node (e.g. https://dev-api.zilliqa.com) by creating a transaction object. The correct RPC API to use is `CreateTransaction`. "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Broadcasting · Zilliqa Developer Portal"/><meta property="og:type" content="website"/><meta property="og:url" content="https://ansnunez.github.io/dev-portal/"/><meta property="og:description" content="After signing the transaction, we may broadcast the transaction to a seed node (e.g. https://dev-api.zilliqa.com) by creating a transaction object. The correct RPC API to use is `CreateTransaction`. "/><meta property="og:image" content="https://ansnunez.github.io/dev-portal/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://ansnunez.github.io/dev-portal/img/docusaurus.png"/><link rel="shortcut icon" href="/dev-portal/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/dev-portal/js/scrollSpy.js"></script><link rel="stylesheet" href="/dev-portal/css/main.css"/><script src="/dev-portal/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/dev-portal/en"><img class="logo" src="/dev-portal/img/zilliqa-logo_1zilliqa-logo.png" alt="Zilliqa Developer Portal"/><h2 class="headerTitleWithLogo">Zilliqa Developer Portal</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/dev-portal/docs/en/basics-intro-blockchain" target="_self">Basics</a></li><li class="siteNavGroupActive"><a href="/dev-portal/docs/en/dev-started-introduction" target="_self">Developers</a></li><li class=""><a href="/dev-portal/docs/en/mining-getting-started" target="_self">Miners</a></li><li class=""><a href="/dev-portal/docs/en/staking-getting-started" target="_self">Exchanges</a></li><li class=""><a href="/dev-portal/docs/en/contribute-buildzil" target="_self">Contributors</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/dev-portal/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/dev-portal/docs/zh-CN/dev-txn-broadcasting">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Transaction Lifecycle</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Application Developers<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Getting Started</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-started-introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-started-helloworld">Hello World</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-started-env">Development Environments</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">User Key Management</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-zilpay">ZilPay</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-pkey">Keystore File &amp; Private Key</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Toolings for Web3</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-sdks">Zilliqa SDKs</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-zilliqajs">zilliqa-js</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-gozilliqa">gozilliqa</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-java">Java-SDK - LaksaJ</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-websockets">WebSocket Server</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-cli">CLI-Tools</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-ide">Scilla IDEs</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-explorer">Explorer</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-faucet">Faucet</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Transaction Lifecycle</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-signing">Signing</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/dev-portal/docs/en/dev-txn-broadcasting">Broadcasting</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-polling">Polling</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-confirmation">Confirmation</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-receipt">Receipt</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Broadcasting</h1></header><article><div><span><p>After signing the transaction, we may broadcast the transaction to a seed node (e.g. <a href="https://dev-api.zilliqa.com">https://dev-api.zilliqa.com</a>) by creating a transaction object. The correct RPC API to use is <code>CreateTransaction</code>.
Refer to <a href="https://apidocs.zilliqa.com/#createtransaction">https://apidocs.zilliqa.com/#createtransaction</a> for more information.</p>
<p>The seed node performs some basic validation of the JSON payload it receives, and will attempt to verify the signature. Please note that it does not verify the correctness of the <code>nonce</code>. It is at all times the developer's responsiblity to correctly increment the nonce used in the transaction.</p>
<p>If <code>nonce</code> is incorrect, the transaction can silently fail. This means that the seed/lookup node will blindly forward the transaction to the correct shard, which may then reject the transaction with no error receipt.</p>
<p><strong>Note:</strong> The above applies only if we use JSON RPC API to create the transaction object. If SDKs are used to create the transaction object, then <code>nonce</code> management is not an issue as SDKs would automatically handle the nonce management.</p>
<h2><a class="anchor" aria-hidden="true" id="non-contract-transaction-object"></a><a href="#non-contract-transaction-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Non-Contract Transaction Object</h2>
<p>Example of creating a <strong>non-contract</strong> transaction object:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-1-tab-2" class="nav-link active" data-group="group_1" data-tab="tab-group-1-content-2">JavaScript</div><div id="tab-group-1-tab-3" class="nav-link" data-group="group_1" data-tab="tab-group-1-content-3">Go</div><div id="tab-group-1-tab-4" class="nav-link" data-group="group_1" data-tab="tab-group-1-content-4">Java</div></div><div class="tab-content"><div id="tab-group-1-content-2" class="tab-pane active" data-group="group_1" tabindex="-1"><div><span><pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> { BN, Long, bytes, units } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/util'</span>);<br /><span class="hljs-keyword">const</span> { Zilliqa } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/zilliqa'</span>);<br /><span class="hljs-keyword">const</span> { getAddressFromPrivateKey } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/crypto'</span>);<br /><span class="hljs-keyword">const</span> zilliqa = <span class="hljs-keyword">new</span> Zilliqa(<span class="hljs-string">"https://dev-api.zilliqa.com"</span>);<br /><br /><span class="hljs-keyword">const</span> PRIVATE_KEY = <span class="hljs-string">'9afc1a1dab96127e902daaaec1a56c30346f007523c787c3bb62371c0e5a1be7'</span>;<br /><br /><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span>(<span class="hljs-params"></span>) </span>{<br />    <span class="hljs-keyword">try</span> {<br />        zilliqa.wallet.addByPrivateKey(PRIVATE_KEY);<br /><br />        <span class="hljs-keyword">let</span> tx = zilliqa.transactions.new({<br />            <span class="hljs-attr">version</span>: <span class="hljs-number">65537</span>,<br />            <span class="hljs-attr">toAddr</span>: <span class="hljs-string">"0x1234567890123456789012345678901234567890"</span>,<br />            <span class="hljs-attr">amount</span>: units.toQa(<span class="hljs-string">"1000"</span>, units.Units.Li),<br />            <span class="hljs-attr">gasLimit</span>: Long.fromNumber(<span class="hljs-number">1</span>),<br />        });<br />        tx = <span class="hljs-keyword">await</span> zilliqa.blockchain.createTransaction(tx);<br />        <span class="hljs-built_in">console</span>.log(tx.id);<br />    <br />    } <span class="hljs-keyword">catch</span> (err) {<br />        <span class="hljs-built_in">console</span>.log(err);<br />    }<br /><br />}<br /><br />main();<br /><br /></code></pre>
</span></div></div><div id="tab-group-1-content-3" class="tab-pane" data-group="group_1" tabindex="-1"><div><span><pre><code class="hljs css language-go"><span class="hljs-keyword">package</span> main<br /><br /><span class="hljs-keyword">import</span> (<br />    <span class="hljs-string">"fmt"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/account"</span><br />    provider2 <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/provider"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/transaction"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/util"</span><br />    <span class="hljs-string">"strconv"</span><br />)<br /><br /><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<br />    <br />    wallet := account.NewWallet()<br />    wallet.AddByPrivateKey(<span class="hljs-string">"e19d05c5452598e24caad4a0d85a49146f7be089515c905ae6a19e8a578a6930"</span>)<br />    provider := provider2.NewProvider(<span class="hljs-string">"https://dev-api.zilliqa.com/"</span>)<br /><br />    gasPrice, _ := provider.GetMinimumGasPrice()<br /><br />    tx := &amp;transaction.Transaction{<br />        Version:      strconv.FormatInt(<span class="hljs-keyword">int64</span>(util.Pack(<span class="hljs-number">333</span>, <span class="hljs-number">1</span>)), <span class="hljs-number">10</span>),<br />        SenderPubKey: <span class="hljs-string">"0246E7178DC8253201101E18FD6F6EB9972451D121FC57AA2A06DD5C111E58DC6A"</span>,<br />        ToAddr:       <span class="hljs-string">"4BAF5faDA8e5Db92C3d3242618c5B47133AE003C"</span>,<br />        Amount:       <span class="hljs-string">"10000000"</span>,<br />        GasPrice:     gasPrice,<br />        GasLimit:     <span class="hljs-string">"1"</span>,<br />        Code:         <span class="hljs-string">""</span>,<br />        Data:         <span class="hljs-string">""</span>,<br />        Priority:     <span class="hljs-literal">false</span>,<br />    }<br /><br />    _ = wallet.Sign(tx, *provider)<br /><br />    rsp, _ := provider.CreateTransaction(tx.ToTransactionPayload())<br /><br />    resMap := rsp.Result.(<span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{})<br />    hash := resMap[<span class="hljs-string">"TranID"</span>].(<span class="hljs-keyword">string</span>)<br />    fmt.Printf(<span class="hljs-string">"hash is %s\n"</span>, hash)<br />    tx.Confirm(hash, <span class="hljs-number">1000</span>, <span class="hljs-number">3</span>, provider)<br />}<br /></code></pre>
</span></div></div><div id="tab-group-1-content-4" class="tab-pane" data-group="group_1" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-keyword">package</span> com.firestack.example;<br /><br /><span class="hljs-keyword">import</span> com.firestack.laksaj.account.Wallet;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.Contract;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.ContractFactory;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.DeployParams;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.Value;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.jsonrpc.HttpProvider;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.transaction.Transaction;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.transaction.TransactionFactory;<br /><span class="hljs-keyword">import</span> javafx.util.Pair;<br /><br /><span class="hljs-keyword">import</span> java.io.IOException;<br /><span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<br /><span class="hljs-keyword">import</span> java.util.Arrays;<br /><span class="hljs-keyword">import</span> java.util.List;<br /><br /><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> com.firestack.laksaj.account.Wallet.pack;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TransactionOperation</span> </span>{<br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, NoSuchAlgorithmException </span>{<br />        Wallet wallet = <span class="hljs-keyword">new</span> Wallet();<br />        String ptivateKey = <span class="hljs-string">"e19d05c5452598e24caad4a0d85a49146f7be089515c905ae6a19e8a578a6930"</span>;<br />        <span class="hljs-comment">// Populate the wallet with an account</span><br />        String address = wallet.addByPrivateKey(ptivateKey);<br />        System.out.println(<span class="hljs-string">"address is: "</span> + address);<br /><br />        HttpProvider provider = <span class="hljs-keyword">new</span> HttpProvider(<span class="hljs-string">"https://api.zilliqa.com"</span>);<br />        <span class="hljs-comment">//get balance</span><br />        HttpProvider.BalanceResult balanceResult = provider.getBalance(address);<br />        System.out.println(<span class="hljs-string">"balance is: "</span> + balanceResult.getBalance());<br /><br />        <span class="hljs-comment">//construct non-contract transaction</span><br />        Transaction transaction = Transaction.builder()<br />                .version(String.valueOf(pack(<span class="hljs-number">333</span>, <span class="hljs-number">1</span>)))<br />                .toAddr(<span class="hljs-string">"zil16jrfrs8vfdtc74yzhyy83je4s4c5sqrcasjlc4"</span>)<br />                .senderPubKey(<span class="hljs-string">"0246e7178dc8253201101e18fd6f6eb9972451d121fc57aa2a06dd5c111e58dc6a"</span>)<br />                .amount(<span class="hljs-string">"10000000"</span>)<br />                .gasPrice(<span class="hljs-string">"1000000000"</span>)<br />                .gasLimit(<span class="hljs-string">"1"</span>)<br />                .code(<span class="hljs-string">""</span>)<br />                .data(<span class="hljs-string">""</span>)<br />                .provider(<span class="hljs-keyword">new</span> HttpProvider(<span class="hljs-string">"https://api.zilliqa.com/"</span>))<br />                .build();<br /><br />        <span class="hljs-comment">//sign transaction</span><br />        transaction = wallet.sign(transaction);<br />        System.out.println(<span class="hljs-string">"signature is: "</span> + transaction.getSignature());<br /><br />        <span class="hljs-comment">//broadcast transaction</span><br />        HttpProvider.CreateTxResult result = TransactionFactory.sendTransaction(transaction);<br />    }<br />}<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="contract-transaction-object"></a><a href="#contract-transaction-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contract Transaction Object</h2>
<p>The following is an example of creating a <strong>contract</strong> transaction object. The difference between <strong>contract</strong> and <strong>non-contract</strong> transaction objects is the additional contract transitions such as <code>setHello</code> and its relevant params such as the <code>vname</code>, <code>type</code> and <code>value</code> as describe in the deployed contract.
The other significant difference is the <code>gasLimit</code> field. For <strong>contract</strong> transaction objects, the recommended <code>gasLimit</code> is between <code>10000</code> to <code>30000</code>.</p>
<p>Example of creating a <strong>contract</strong> transaction object:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-5-tab-6" class="nav-link active" data-group="group_5" data-tab="tab-group-5-content-6">JavaScript</div><div id="tab-group-5-tab-7" class="nav-link" data-group="group_5" data-tab="tab-group-5-content-7">Go</div><div id="tab-group-5-tab-8" class="nav-link" data-group="group_5" data-tab="tab-group-5-content-8">Java</div></div><div class="tab-content"><div id="tab-group-5-content-6" class="tab-pane active" data-group="group_5" tabindex="-1"><div><span><pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> { BN, Long, bytes, units } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/util'</span>);<br /><span class="hljs-keyword">const</span> { Zilliqa } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/zilliqa'</span>);<br /><span class="hljs-keyword">const</span> { toBech32Address, getAddressFromPrivateKey } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zilliqa-js/crypto'</span>);<br /><br /><span class="hljs-keyword">const</span> zilliqa = <span class="hljs-keyword">new</span> Zilliqa(<span class="hljs-string">"https://dev-api.zilliqa.com"</span>);<br /><span class="hljs-keyword">const</span> chainId = <span class="hljs-number">333</span>; <span class="hljs-comment">// chainId of the developer testnet</span><br /><span class="hljs-keyword">const</span> msgVersion = <span class="hljs-number">1</span>; <span class="hljs-comment">// current msgVersion</span><br /><span class="hljs-keyword">const</span> VERSION = bytes.pack(chainId, msgVersion);<br /><br /><span class="hljs-keyword">const</span> PRIVATE_KEY = <span class="hljs-string">'9afc1a1dab96127e902daaaec1a56c30346f007523c787c3bb62371c0e5a1be7'</span>;<br /><span class="hljs-keyword">const</span> CONTRACT_ADDR = toBech32Address(<span class="hljs-string">'0x1234567890123456789012345678901234567890'</span>); <span class="hljs-comment">// convert to bech32 format</span><br /><br /><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span>(<span class="hljs-params"></span>) </span>{<br />    <span class="hljs-keyword">try</span> {<br />        zilliqa.wallet.addByPrivateKey(PRIVATE_KEY);<br />        <span class="hljs-keyword">const</span> deployedContract = zilliqa.contracts.at(CONTRACT_ADDR);<br />        <span class="hljs-keyword">const</span> callTx = <span class="hljs-keyword">await</span> deployedContract.call(<br />            <span class="hljs-string">'setHello'</span>,<br />            [<br />                {<br />                    <span class="hljs-attr">vname</span>: <span class="hljs-string">'msg'</span>,<br />                    <span class="hljs-attr">type</span>: <span class="hljs-string">'String'</span>,<br />                    <span class="hljs-attr">value</span>: <span class="hljs-string">"hello world!"</span><br />                }<br />            ],<br />            {<br />                <span class="hljs-attr">version</span>: VERSION,<br />                <span class="hljs-attr">amount</span>: <span class="hljs-keyword">new</span> BN(<span class="hljs-number">0</span>),<br />                <span class="hljs-attr">gasPrice</span>: units.toQa(<span class="hljs-string">"1000"</span>, units.Units.Li)<br />                <span class="hljs-attr">gasLimit</span>: Long.fromNumber(<span class="hljs-number">10000</span>)<br />            }<br />        );<br /><br />        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"transaction: %o"</span>, callTx.id);<br />        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(callTx.receipt, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));<br />    <br />    } <span class="hljs-keyword">catch</span> (err) {<br />        <span class="hljs-built_in">console</span>.log(err);<br />    }<br /><br />}<br /><br />main();<br /></code></pre>
</span></div></div><div id="tab-group-5-content-7" class="tab-pane" data-group="group_5" tabindex="-1"><div><span><pre><code class="hljs css language-go"><span class="hljs-keyword">package</span> main<br /><br /><span class="hljs-keyword">import</span> (<br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/account"</span><br />    contract2 <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/contract"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/core"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/keytools"</span><br />    provider2 <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/provider"</span><br />    <span class="hljs-string">"github.com/Zilliqa/gozilliqa-sdk/util"</span><br />    <span class="hljs-string">"strconv"</span><br />)<br /><br /><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<br />    host := <span class="hljs-string">"https://dev-api.zilliqa.com/"</span><br />    privateKey := <span class="hljs-string">"e19d05c5452598e24caad4a0d85a49146f7be089515c905ae6a19e8a578a6930"</span><br />    chainID := <span class="hljs-number">333</span><br />    msgVersion := <span class="hljs-number">1</span><br /><br />    publickKey := keytools.GetPublicKeyFromPrivateKey(util.DecodeHex(privateKey), <span class="hljs-literal">true</span>)<br />    address := keytools.GetAddressFromPublic(publickKey)<br />    pubkey := util.EncodeHex(publickKey)<br />    provider := provider2.NewProvider(host)<br /><br />    wallet := account.NewWallet()<br />    wallet.AddByPrivateKey(privateKey)<br /><br />    contract := contract2.Contract{<br />        Address:  <span class="hljs-string">"bd7198209529dC42320db4bC8508880BcD22a9f2"</span>,<br />        Signer:   wallet,<br />        Provider: provider,<br />    }<br /><br />    args := []core.ContractValue{<br />        {<br />            <span class="hljs-string">"msg"</span>,<br />            <span class="hljs-string">"String"</span>,<br />            <span class="hljs-string">"hello world"</span>,<br />        },<br />    }<br /><br />    balAndNonce, _ := provider.GetBalance(address)<br />    n := balAndNonce.Nonce + <span class="hljs-number">1</span><br />    gasPrice, _ := provider.GetMinimumGasPrice()<br /><br />    params := contract2.CallParams{<br />        Nonce:        strconv.FormatInt(n, <span class="hljs-number">10</span>),<br />        Version:      strconv.FormatInt(<span class="hljs-keyword">int64</span>(util.Pack(chainID, msgVersion)), <span class="hljs-number">10</span>),<br />        GasPrice:     gasPrice,<br />        GasLimit:     <span class="hljs-string">"10000"</span>,<br />        SenderPubKey: pubkey,<br />        Amount:       <span class="hljs-string">"0"</span>,<br />    }<br /><br />    tx, _ := contract.Call(<span class="hljs-string">"setHello"</span>, args, params, <span class="hljs-literal">true</span>)<br />    tx.Confirm(tx.ID, <span class="hljs-number">1000</span>, <span class="hljs-number">3</span>, provider)<br /><br />}<br /></code></pre>
</span></div></div><div id="tab-group-5-content-8" class="tab-pane" data-group="group_5" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-keyword">package</span> com.firestack.example;<br /><br /><span class="hljs-keyword">import</span> com.firestack.laksaj.account.Wallet;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.Contract;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.ContractFactory;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.DeployParams;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.contract.Value;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.jsonrpc.HttpProvider;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.transaction.Transaction;<br /><span class="hljs-keyword">import</span> com.firestack.laksaj.transaction.TransactionFactory;<br /><span class="hljs-keyword">import</span> javafx.util.Pair;<br /><br /><span class="hljs-keyword">import</span> java.io.IOException;<br /><span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<br /><span class="hljs-keyword">import</span> java.util.Arrays;<br /><span class="hljs-keyword">import</span> java.util.List;<br /><br /><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> com.firestack.laksaj.account.Wallet.pack;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TransactionOperation</span> </span>{<br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, NoSuchAlgorithmException </span>{<br />        List&lt;Value&gt; init = Arrays.asList();<br />        Wallet wallet = <span class="hljs-keyword">new</span> Wallet();<br />        String ptivateKey = <span class="hljs-string">"e19d05c5452598e24caad4a0d85a49146f7be089515c905ae6a19e8a578a6930"</span>;<br />        ContractFactory factory = ContractFactory.builder().provider(<span class="hljs-keyword">new</span> HttpProvider(<span class="hljs-string">"https://dev-api.zilliqa.com/"</span>)).signer(wallet).build();<br />        Contract contract = factory.atContract(<span class="hljs-string">"zil1h4cesgy498wyyvsdkj7g2zygp0xj920jw2hyx0"</span>, <span class="hljs-string">""</span>, (Value[]) init.toArray(), <span class="hljs-string">""</span>);<br />        Integer nonce = Integer.valueOf(factory.getProvider().getBalance(<span class="hljs-string">"9bfec715a6bd658fcb62b0f8cc9bfa2ade71434a"</span>).getResult().getNonce());<br />        CallParams params = CallParams.builder().nonce(String.valueOf(nonce + <span class="hljs-number">1</span>)).version(String.valueOf(pack(<span class="hljs-number">333</span>, <span class="hljs-number">1</span>))).gasPrice(<span class="hljs-string">"1000000000"</span>).gasLimit(<span class="hljs-string">"10000"</span>).senderPubKey(<span class="hljs-string">"0246e7178dc8253201101e18fd6f6eb9972451d121fc57aa2a06dd5c111e58dc6a"</span>).amount(<span class="hljs-string">"0"</span>).build();<br />        List&lt;Value&gt; values = Arrays.asList(Value.builder().vname(<span class="hljs-string">"msg"</span>).type(<span class="hljs-string">"String"</span>).value(<span class="hljs-string">"hello world"</span>).build());<br />        contract.call(<span class="hljs-string">"setHello"</span>, (Value[]) values.toArray(), params, <span class="hljs-number">3000</span>, <span class="hljs-number">3</span>);<br />    }<br />}<br /></code></pre>
</span></div></div></div></div></span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/dev-portal/docs/en/dev-txn-signing"><span class="arrow-prev">← </span><span>Signing</span></a><a class="docs-next button" href="/dev-portal/docs/en/dev-txn-polling"><span>Polling</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#non-contract-transaction-object">Non-Contract Transaction Object</a></li><li><a href="#contract-transaction-object">Contract Transaction Object</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/dev-portal/" class="nav-home"><img src="/dev-portal/img/zilliqa-logo_1zilliqa-logo.png" alt="Zilliqa Developer Portal" width="66" height="70"/></a><div><h5>Links</h5><a href="https://www.github.com/Zilliqa" target="_blank" rel="noreferrer noopener">GitHub</a><a href="https://blog.zilliqa.com/" target="_blank" rel="noreferrer noopener">Medium</a><a href="https://twitter.com/zilliqa" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://discord.gg/XMRE9tt" target="_blank" rel="noreferrer noopener">Discord</a><a href="https://www.youtube.com/channel/UCvinnFbf0u71cajoxKcfZIQ" target="_blank" rel="noreferrer noopener">YouTube</a></div></section><section class="copyright">Copyright © 2020 Zilliqa Research Pte. Ltd.</section></footer></div></body></html>