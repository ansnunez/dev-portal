<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Hello World · Zilliqa Developer Portal</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In this section, we will deploy and interact with a `Hello World` smart contract onto the zilliqa testnet using [Neo-Savant web IDE](https://ide.zilliqa.com/#/) and [ZilPay wallet](https://zilpay.xyz/)."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Hello World · Zilliqa Developer Portal"/><meta property="og:type" content="website"/><meta property="og:url" content="https://ansnunez.github.io/dev-portal/"/><meta property="og:description" content="In this section, we will deploy and interact with a `Hello World` smart contract onto the zilliqa testnet using [Neo-Savant web IDE](https://ide.zilliqa.com/#/) and [ZilPay wallet](https://zilpay.xyz/)."/><meta property="og:image" content="https://ansnunez.github.io/dev-portal/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://ansnunez.github.io/dev-portal/img/docusaurus.png"/><link rel="shortcut icon" href="/dev-portal/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/dev-portal/js/scrollSpy.js"></script><link rel="stylesheet" href="/dev-portal/css/main.css"/><script src="/dev-portal/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/dev-portal/en"><img class="logo" src="/dev-portal/img/zilliqa-logo_1zilliqa-logo.png" alt="Zilliqa Developer Portal"/><h2 class="headerTitleWithLogo">Zilliqa Developer Portal</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/dev-portal/docs/en/basics-intro-blockchain" target="_self">Basics</a></li><li class="siteNavGroupActive"><a href="/dev-portal/docs/en/dev-started-introduction" target="_self">Developers</a></li><li class=""><a href="/dev-portal/docs/en/mining-getting-started" target="_self">Miners</a></li><li class=""><a href="/dev-portal/docs/en/staking-getting-started" target="_self">Exchanges</a></li><li class=""><a href="/dev-portal/docs/en/contribute-buildzil" target="_self">Contributors</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/dev-portal/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/dev-portal/docs/zh-CN/dev-started-helloworld">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting Started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Application Developers<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Getting Started</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-started-introduction">Introduction</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/dev-portal/docs/en/dev-started-helloworld">Hello World</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-started-env">Development Environments</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">User Key Management</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-zilpay">ZilPay</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-keys-pkey">Keystore File &amp; Private Key</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Toolings for Web3</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-sdks">Zilliqa SDKs</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-zilliqajs">zilliqa-js</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-gozilliqa">gozilliqa</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-java">Java-SDK - LaksaJ</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-websockets">WebSocket Server</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-cli">CLI-Tools</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-ide">Scilla IDEs</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-explorer">Explorer</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-tools-faucet">Faucet</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Transaction Lifecycle</h4><ul><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-signing">Signing</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-broadcasting">Broadcasting</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-polling">Polling</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-confirmation">Confirmation</a></li><li class="navListItem"><a class="navItem" href="/dev-portal/docs/en/dev-txn-receipt">Receipt</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Hello World</h1></header><article><div><span><p>In this section, we will deploy and interact with a <code>Hello World</code> smart contract onto the zilliqa testnet using <a href="https://ide.zilliqa.com/#/">Neo-Savant web IDE</a> and <a href="https://zilpay.xyz/">ZilPay wallet</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="create-testnet-wallet-using-zilpay"></a><a href="#create-testnet-wallet-using-zilpay" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create testnet wallet using ZilPay</h2>
<p>ZilPay is an <a href="https://github.com/zilpay/zil-pay">open source</a> browser add-on that manages a user’s Zilliqa wallet and can be used on the Chrome, Firefox and Opera browsers.
It does not store any user private keys on the server, instead they are password protected and stored on browser storage.
It is a non-custodial wallet, meaning, only the user has full access and responsibility for their private key.</p>
<p>To create a ZilPay wallet:</p>
<ol>
<li>Visit ZilPay's <a href="https://zilpay.xyz/">website</a> and download the extension for your respective browser.</li>
<li>Open the extension, create a new wallet by verifying your 12 word recovery phrase and selecting a password for your wallet.</li>
<li>Click on the network change button (shown below) and select network as testnet.</li>
</ol>
<blockquote>
<p>Please store your 12 words recovery phrase securely</p>
</blockquote>
<p><img src="../assets/application/getting-started/zilpay-change-network-btn.png" alt="Change Network Button"></p>
<p>Voila! You have now successfully setup a testnet ZilPay wallet.</p>
<h2><a class="anchor" aria-hidden="true" id="request-zilliqa-testnet-zil-from-faucet"></a><a href="#request-zilliqa-testnet-zil-from-faucet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Request Zilliqa testnet $ZIL from faucet</h2>
<p>Dploy a contract to zilliqa's testnet will consume gas. As such you will need testnet $ZIL in your ZilPay account to pay for the gas.</p>
<p>To request for testnet $ZIL from the facuet,</p>
<ol>
<li>Visit <a href="https://dev-wallet.zilliqa.com/faucet">Nucleus wallet testnet facuet</a></li>
<li>Enter and submit your ZilPay address to the facuet, you will receive 300 testnet $ZIL shortly. This will take about 30s to 1 min, as the transactions will need to be confirm on the blockchain.</li>
</ol>
<p><img src="../assets/application/getting-started/nucleus-faucet.png" alt="Nucleus Wallet Faucet"></p>
<h2><a class="anchor" aria-hidden="true" id="deploying-contract-on-testnet"></a><a href="#deploying-contract-on-testnet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploying contract on testnet</h2>
<p>To deploy the <code>Hello World</code> contract on zilliqa testnet, we will use the Scilla online IDE, <a href="https://ide.zilliqa.com/">Neo-Savant IDE</a>.<br/></p>
<ol>
<li>Change the network to testnet and import your wallet by loading the keystore file and enter the corresponding passphrase.</li>
</ol>
<p><img src="../assets/application/getting-started/neo-savant-step1.png" alt="IDE Step1"></p>
<ol start="2">
<li>Select the <code>Hello World</code> contract under the files tab and click on &quot;Check&quot; button to check to use the <a href="https://scilla.readthedocs.io/en/latest/scilla-checker.html">typechecker</a> to check for any syntax errors in your contract.</li>
</ol>
<p><img src="../assets/application/getting-started/neo-savant-step2.png" alt="IDE Step2"></p>
<ol start="3">
<li>Once typechecker result is passed, click on &quot;Deploy&quot; button to deploy the contract to testnet. Use your own wallet address (Base61 format) for the &quot;owner&quot; initialisation parameter.</li>
</ol>
<blockquote>
<p>To convert from <code>Bech32</code> address format into base16 address format, you can use the address converter in the IDE. Click on <code>Tools &gt; Address coonverter</code>.</p>
</blockquote>
<p><img src="../assets/application/getting-started/neo-savant-step3.png" alt="IDE Step3"></p>
<p>Yay! Your contract is now deployed on the testnet and can be accessed under the &quot;Contracts&quot; tab on the left side of the IDE.</p>
<h2><a class="anchor" aria-hidden="true" id="understanding-the-hello-world-contract"></a><a href="#understanding-the-hello-world-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Understanding the Hello World contract</h2>
<p>The Hello World contract written in the scilla smart contract programming language essentially consists of two transitions. The transitions of a scilla contract define the public interface for the contract and are a way to define how the state of the contract may change.<br/>
The two transitions in the Hello World are:</p>
<ol>
<li><code>setHello()</code> - <code>setHello</code> transition updates the value of the mutable variable - 'welcomeMsg' to the value of the transition parameter.</li>
</ol>
<pre><code class="hljs css language-ocaml">transition setHello (msg : <span class="hljs-type">String</span>)
  is_owner = builtin eq owner _sender;
  <span class="hljs-keyword">match</span> is_owner <span class="hljs-keyword">with</span>
  | <span class="hljs-type">False</span> =&gt;
    e = {_eventname : <span class="hljs-string">"setHello()"</span>; code : not_owner_code};
    event e
  | <span class="hljs-type">True</span> =&gt;
    welcome_msg := msg;
    e = {_eventname : <span class="hljs-string">"setHello()"</span>; code : set_hello_code};
    event e
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

</code></pre>
<ol start="2">
<li><code>getHello()</code> - <code>getHello</code> transition fetches the value of the mutable variable - 'welcomeMsg' and emits it as an entry of an emitted event.</li>
</ol>
<pre><code class="hljs css language-ocaml">transition getHello <span class="hljs-literal">()</span>
    r &lt;- welcome_msg;
    e = {_eventname: <span class="hljs-string">"getHello()"</span>; msg: r};
    event e
<span class="hljs-keyword">end</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="front-end-contract-interaction-using-zilliqa-js"></a><a href="#front-end-contract-interaction-using-zilliqa-js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Front-end contract interaction using zilliqa-js</h2>
<p>Let's interact with the <code>Hello World</code> contract using a simple front-end.</p>
<p>Clone the following repository and follow the installation steps: <a href="https://github.com/arnavvohra/dev-portal-examples/tree/master/hello-world">Hello World Front-End</a>.</p>
<pre><code class="hljs css language-bash">git <span class="hljs-built_in">clone</span> XXXXX
</code></pre>
<p>The above repository builds on the create-react-app starter kit. If you don't have experience working with React, this guide would still be useful for you as the zilliqa-js part of the code is pure javascript and you can use that as it is in the framework of your choice.</p>
<h2><a class="anchor" aria-hidden="true" id="change-contract-state-using-zilpay"></a><a href="#change-contract-state-using-zilpay" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Change contract state using ZilPay</h2>
<p>After following the installation steps, you need to run the code locally by using the command
<code>npm start</code></p>
<p>On succesfully running the web application locally on your system, enter the address of your Hello World contract deployed on the testnet and connect your ZilPay wallet with the front-end by clicking on the <strong>Connect</strong> button.</p>
<p>To call the transitions from the front-end using ZilPay:</p>
<ol>
<li><code>setHello()</code> - Upon clicking the <strong>Set Hello</strong> button and approving the transaction via ZilPay, the <code>setHello()</code> transition will be called and the value of the <code>welcomeMsg</code> mutable variable in the contract code will be updated with the new message.</li>
</ol>
<p>The following code snippet achieves this functionality:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">async</span> setHello(){
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.zilPay.wallet.isEnable){
      <span class="hljs-keyword">this</span>.updateWelcomeMsg();
    }
    <span class="hljs-keyword">else</span>{
      <span class="hljs-keyword">const</span> isConnect = <span class="hljs-keyword">await</span> <span class="hljs-built_in">window</span>.zilPay.wallet.connect();
      <span class="hljs-keyword">if</span> (isConnect) {
        <span class="hljs-keyword">this</span>.updateWelcomeMsg();
      } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'user rejected'</span>);
      }
    } 
  }

  <span class="hljs-keyword">async</span> updateWelcomeMsg(){
    <span class="hljs-keyword">const</span> zilliqa = <span class="hljs-built_in">window</span>.zilPay;
    <span class="hljs-keyword">let</span> setHelloValue = <span class="hljs-keyword">this</span>.state.setHelloValue;
    <span class="hljs-keyword">let</span> contractAddress = localStorage.getItem(<span class="hljs-string">"contract_address"</span>);
    <span class="hljs-keyword">const</span> CHAIN_ID = <span class="hljs-number">333</span>;
    <span class="hljs-keyword">const</span> MSG_VERSION = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> VERSION = bytes.pack(CHAIN_ID, MSG_VERSION);   
    <span class="hljs-keyword">const</span> myGasPrice = units.toQa(<span class="hljs-string">'1000'</span>, units.Units.Li); <span class="hljs-comment">// Gas Price that will be used by all transactions</span>
    contractAddress = contractAddress.substring(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> ftAddr = toBech32Address(contractAddress);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> contract = zilliqa.contracts.at(ftAddr);
        <span class="hljs-keyword">const</span> callTx = <span class="hljs-keyword">await</span> contract.call(
            <span class="hljs-string">'setHello'</span>,
            [
                {
                    <span class="hljs-attr">vname</span>: <span class="hljs-string">'msg'</span>,
                    <span class="hljs-attr">type</span>: <span class="hljs-string">'String'</span>,
                    <span class="hljs-attr">value</span>: setHelloValue
                }
            ],
            {
                <span class="hljs-comment">// amount, gasPrice and gasLimit must be explicitly provided</span>
                <span class="hljs-attr">version</span>: VERSION,
                <span class="hljs-attr">amount</span>: <span class="hljs-keyword">new</span> BN(<span class="hljs-number">0</span>),
                <span class="hljs-attr">gasPrice</span>: myGasPrice,
                <span class="hljs-attr">gasLimit</span>: Long.fromNumber(<span class="hljs-number">10000</span>),
            }
        );
  
    } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.log(err);
    }
  }
</code></pre>
<ol start="2">
<li><code>getHello()</code> - Upon clicking the 'Get Hello' button and approving the transaction via ZilPay, the <code>getHello()</code> transition will called and the value of the <code>welcomeMsg</code> mutable variable is emitted as part of an event.</li>
</ol>
<p>We will use the Zilliqa WebSocket Server (ZWS) that initiates a subscription for all new event logs generated for our Hello World contract. This allows us to update the Welcome Msg on the web application as soon as the <code>getHello()</code> transaction gets confirmed and an event is emitted.</p>
<p>The following code snippet achieves this functionality:</p>
<pre><code class="hljs css language-javascript">  <span class="hljs-keyword">async</span> getHello(){
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.zilPay.wallet.isEnable){
      <span class="hljs-keyword">this</span>.getWelcomeMsg();
    }
    <span class="hljs-keyword">else</span>{
      <span class="hljs-keyword">const</span> isConnect = <span class="hljs-keyword">await</span> <span class="hljs-built_in">window</span>.zilPay.wallet.connect();
      <span class="hljs-keyword">if</span> (isConnect) {
        <span class="hljs-keyword">this</span>.getWelcomeMsg();
      } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'user rejected'</span>);
      }
    } 
  }

  <span class="hljs-keyword">async</span> getWelcomeMsg(){
    
    <span class="hljs-keyword">const</span> zilliqa = <span class="hljs-built_in">window</span>.zilPay;
    <span class="hljs-keyword">let</span> contractAddress = localStorage.getItem(<span class="hljs-string">"contract_address"</span>);
    <span class="hljs-keyword">const</span> CHAIN_ID = <span class="hljs-number">333</span>;
    <span class="hljs-keyword">const</span> MSG_VERSION = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> VERSION = bytes.pack(CHAIN_ID, MSG_VERSION);   
    <span class="hljs-keyword">const</span> myGasPrice = units.toQa(<span class="hljs-string">'1000'</span>, units.Units.Li); <span class="hljs-comment">// Gas Price that will be used by all transactions</span>
    contractAddress = contractAddress.substring(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> ftAddr = toBech32Address(contractAddress);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> contract = zilliqa.contracts.at(ftAddr);
        <span class="hljs-keyword">const</span> callTx = <span class="hljs-keyword">await</span> contract.call(
            <span class="hljs-string">'getHello'</span>,
            [
            ],
            {
                <span class="hljs-comment">// amount, gasPrice and gasLimit must be explicitly provided</span>
                <span class="hljs-attr">version</span>: VERSION,
                <span class="hljs-attr">amount</span>: <span class="hljs-keyword">new</span> BN(<span class="hljs-number">0</span>),
                <span class="hljs-attr">gasPrice</span>: myGasPrice,
                <span class="hljs-attr">gasLimit</span>: Long.fromNumber(<span class="hljs-number">10000</span>),
            }
        );
        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(callTx.TranID));
        <span class="hljs-keyword">this</span>.eventLogSubscription();

  
    } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.log(err);
    }

  }


  <span class="hljs-keyword">async</span> eventLogSubscription() {
    <span class="hljs-keyword">const</span> zilliqa = <span class="hljs-keyword">new</span> Zilliqa(<span class="hljs-string">'https://dev-api.zilliqa.com'</span>);
    <span class="hljs-keyword">const</span> subscriber = zilliqa.subscriptionBuilder.buildEventLogSubscriptions(
      <span class="hljs-string">'wss://dev-ws.zilliqa.com'</span>,
      {
        <span class="hljs-comment">// smart contract address you want to listen on  </span>
        <span class="hljs-attr">addresses</span>: [
          <span class="hljs-keyword">this</span>.state.contractAddress
        ],
      },
    );
    
    subscriber.emitter.on(StatusType.SUBSCRIBE_EVENT_LOG, (event) =&gt; {
      <span class="hljs-comment">// if subscribe success, it will echo the subscription info</span>
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'get SubscribeEventLog echo : '</span>, event);
    });
    
    subscriber.emitter.on(MessageType.EVENT_LOG, (event) =&gt; {
      <span class="hljs-comment">// updating the welcome msg when a new event log is received related to getHello() transition</span>
      <span class="hljs-keyword">if</span>(event.hasOwnProperty(<span class="hljs-string">"value"</span>)){
        <span class="hljs-keyword">if</span>(event.value[<span class="hljs-number">0</span>].event_logs[<span class="hljs-number">0</span>]._eventname ==<span class="hljs-string">"getHello()"</span>){
          <span class="hljs-keyword">let</span> welcomeMsg = event.value[<span class="hljs-number">0</span>].event_logs[<span class="hljs-number">0</span>].params[<span class="hljs-number">0</span>].value;
          <span class="hljs-keyword">this</span>.setState({<span class="hljs-attr">welcomeMsg</span>: welcomeMsg});
          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"welcomeMsg"</span>, welcomeMsg);
        }
      }
    });  
    <span class="hljs-keyword">await</span> subscriber.start();
  }
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="view-receipt-on-viewblock-explorer"></a><a href="#view-receipt-on-viewblock-explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View receipt on Viewblock explorer</h2>
<p><a href="https://viewblock.io/zilliqa?network=testnet">Viewblock explorer</a> is a block explorer that support both Zilliqa mainnet and testnet. It allows you to look at the status of your transaction, current status of the zilliqa network, contract source code etc.</p>
<p>For example, this is the viewblock <a href="https://viewblock.io/zilliqa/tx/c4030c73d6dae558ff0c9d98237101e342888115f13219a00bb14a8ee46fa3be?network=testnet">transaction link</a> for a getHello() transition transaction.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/dev-portal/docs/en/dev-started-introduction"><span class="arrow-prev">← </span><span>Introduction</span></a><a class="docs-next button" href="/dev-portal/docs/en/dev-started-env"><span>Development Environments</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#create-testnet-wallet-using-zilpay">Create testnet wallet using ZilPay</a></li><li><a href="#request-zilliqa-testnet-zil-from-faucet">Request Zilliqa testnet $ZIL from faucet</a></li><li><a href="#deploying-contract-on-testnet">Deploying contract on testnet</a></li><li><a href="#understanding-the-hello-world-contract">Understanding the Hello World contract</a></li><li><a href="#front-end-contract-interaction-using-zilliqa-js">Front-end contract interaction using zilliqa-js</a></li><li><a href="#change-contract-state-using-zilpay">Change contract state using ZilPay</a></li><li><a href="#view-receipt-on-viewblock-explorer">View receipt on Viewblock explorer</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/dev-portal/" class="nav-home"><img src="/dev-portal/img/zilliqa-logo_1zilliqa-logo.png" alt="Zilliqa Developer Portal" width="66" height="70"/></a><div><h5>Links</h5><a href="https://www.github.com/Zilliqa" target="_blank" rel="noreferrer noopener">GitHub</a><a href="https://blog.zilliqa.com/" target="_blank" rel="noreferrer noopener">Medium</a><a href="https://twitter.com/zilliqa" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://discord.gg/XMRE9tt" target="_blank" rel="noreferrer noopener">Discord</a><a href="https://www.youtube.com/channel/UCvinnFbf0u71cajoxKcfZIQ" target="_blank" rel="noreferrer noopener">YouTube</a></div></section><section class="copyright">Copyright © 2020 Zilliqa Research Pte. Ltd.</section></footer></div></body></html>